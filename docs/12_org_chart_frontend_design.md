# org-chart ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­è¨ˆæ›¸

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.1.0
**ä½œæˆæ—¥**: 2026-01-25
**æœ€çµ‚æ›´æ–°**: 2026-01-25 13:20 JST
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: Phase 1å®Œäº† âœ…

---

## 1. æ¦‚è¦

### 1.1 ã‚·ã‚¹ãƒ†ãƒ ã®ä½ç½®ã¥ã‘

org-chartã¯ã€ã‚½ã‚¦ãƒ«ã‚·ãƒ³ã‚¯ã‚¹ç¤¾å†…ã®çµ„ç¹”å›³ã‚’ç®¡ç†ã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚
ã‚½ã‚¦ãƒ«ãã‚“ï¼ˆAIãƒãƒƒã‚¯ã‚ªãƒ•ã‚£ã‚¹ã‚·ã‚¹ãƒ†ãƒ ï¼‰ã¨é€£æºã—ã€æ¨©é™ç®¡ç†ãƒ»ã‚¿ã‚¹ã‚¯é€šçŸ¥ã®åŸºç›¤ã¨ãªã‚‹ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ãƒ¦ãƒ¼ã‚¶ãƒ¼                                â”‚
â”‚                         â”‚                                   â”‚
â”‚                         â–¼                                   â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚              â”‚   org-chart Web     â”‚ â† æœ¬è¨­è¨ˆæ›¸ã®å¯¾è±¡       â”‚
â”‚              â”‚  (é™çš„HTML/JS)      â”‚                        â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                         â”‚                                   â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚           â–¼             â–¼             â–¼                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚    â”‚ Supabase  â”‚ â”‚ Chatwork  â”‚ â”‚ ã‚½ã‚¦ãƒ«ãã‚“API â”‚           â”‚
â”‚    â”‚ (ãƒ‡ãƒ¼ã‚¿)  â”‚ â”‚ (é€šçŸ¥)    â”‚ â”‚ (åŒæœŸ)        â”‚           â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                        â”‚                    â”‚
â”‚                                        â–¼                    â”‚
â”‚                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚                               â”‚  Cloud SQL    â”‚             â”‚
â”‚                               â”‚ (æœ¬ç•ªãƒ‡ãƒ¼ã‚¿)  â”‚             â”‚
â”‚                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| é …ç›® | æŠ€è¡“ | å‚™è€ƒ |
|------|------|------|
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | HTML5 + Tailwind CSS + Vanilla JS | ãƒ“ãƒ«ãƒ‰ä¸è¦ã®é™çš„ã‚µã‚¤ãƒˆ |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | Supabase (PostgreSQL) | REST APIçµŒç”± |
| ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° | Cloudflare Pages | ç„¡æ–™æ ã§é‹ç”¨ |
| é€šçŸ¥é€£æº | Chatwork API | çµ„ç¹”å¤‰æ›´é€šçŸ¥ |
| åŒæœŸå…ˆ | ã‚½ã‚¦ãƒ«ãã‚“API (Cloud Run) | Phase 3.5 ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ |

### 1.3 ãƒªãƒã‚¸ãƒˆãƒª

```
/Users/kikubookair/Desktop/org-chart/
â”œâ”€â”€ index.html          # ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ï¼ˆ1,595è¡Œï¼‰
â”œâ”€â”€ js/
â”‚   â””â”€â”€ app.js          # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆç´„3,700è¡Œï¼‰
â”œâ”€â”€ images/             # ãƒ­ã‚´ç­‰
â”œâ”€â”€ .env                # ç’°å¢ƒå¤‰æ•°ï¼ˆæ©Ÿå¯†ï¼‰
â””â”€â”€ deploy.sh           # ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```

---

## 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆï¼ˆSupabaseï¼‰

### 2.1 employees ãƒ†ãƒ¼ãƒ–ãƒ«

| ã‚«ãƒ©ãƒ å | å‹ | NULL | èª¬æ˜ | ã‚½ã‚¦ãƒ«ãã‚“é€£æº |
|----------|-----|------|------|----------------|
| id | UUID | NO | ä¸»ã‚­ãƒ¼ | âœ… å¿…é ˆ |
| name | VARCHAR(255) | NO | æ°å | âœ… å¿…é ˆ |
| department_id | UUID | NO | ä¸»æ‰€å±éƒ¨ç½²ID | âœ… å¿…é ˆ |
| departments | JSONB | YES | å…¼å‹™éƒ¨ç½²ãƒªã‚¹ãƒˆ | âœ… ä½¿ç”¨ |
| position | VARCHAR(100) | YES | å½¹è·åï¼ˆå¾Œæ–¹äº’æ›ï¼‰ | âš ï¸ éæ¨å¥¨ |
| **role_id** | VARCHAR(50) | YES | å½¹è·IDï¼ˆä¾‹: role_ceoï¼‰ | âœ… **å¿…é ˆ** |
| employment_type | VARCHAR(50) | NO | é›‡ç”¨å½¢æ…‹ï¼ˆç¤¾å“¡/æ¥­å‹™å§”è¨—/ãƒ‘ãƒ¼ãƒˆï¼‰ | âœ… ä½¿ç”¨ |
| is_active | BOOLEAN | NO | åœ¨ç±ä¸­ãƒ•ãƒ©ã‚° | âœ… ä½¿ç”¨ |
| **chatwork_account_id** | VARCHAR(20) | YES | ChatWorkã‚¢ã‚«ã‚¦ãƒ³ãƒˆID | âœ… **å¿…é ˆï¼ˆæ–°è¦ï¼‰** |
| email_company | VARCHAR(255) | YES | ä¼šç¤¾ãƒ¡ãƒ¼ãƒ« | â—‹ å‚è€ƒ |
| email_gmail | VARCHAR(255) | YES | Gmailã‚¢ã‚«ã‚¦ãƒ³ãƒˆ | â—‹ å‚è€ƒ |
| email_shared | VARCHAR(255) | YES | å…±æœ‰ãƒ¡ãƒ¼ãƒ« | - |
| phone | VARCHAR(20) | YES | é›»è©±ç•ªå· | - |
| birthday | DATE | YES | èª•ç”Ÿæ—¥ | - |
| avatar | TEXT | YES | ã‚¢ãƒã‚¿ãƒ¼ç”»åƒURL | - |
| profile_url | TEXT | YES | ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«URL | - |
| skills | JSONB | YES | ã‚¹ã‚­ãƒ«ãƒªã‚¹ãƒˆ | - |
| certifications | JSONB | YES | è³‡æ ¼ãƒªã‚¹ãƒˆ | - |
| evaluation | VARCHAR(10) | YES | è©•ä¾¡ãƒ©ãƒ³ã‚¯ï¼ˆS/A/B/C/Dï¼‰ | - |
| goal_achievement | INT | YES | ç›®æ¨™é”æˆç‡ï¼ˆ%ï¼‰ | - |
| notes | TEXT | YES | å‚™è€ƒ | - |
| hire_date | DATE | YES | å…¥ç¤¾æ—¥ | â—‹ å‚è€ƒ |
| resignation_date | DATE | YES | é€€ç¤¾æ—¥ | â—‹ å‚è€ƒ |
| department_order | INT | NO | éƒ¨ç½²å†…è¡¨ç¤ºé † | - |
| created_at | TIMESTAMPTZ | NO | ä½œæˆæ—¥æ™‚ | - |
| updated_at | TIMESTAMPTZ | NO | æ›´æ–°æ—¥æ™‚ | - |

### 2.2 departments ãƒ†ãƒ¼ãƒ–ãƒ«

| ã‚«ãƒ©ãƒ å | å‹ | NULL | èª¬æ˜ | ã‚½ã‚¦ãƒ«ãã‚“é€£æº |
|----------|-----|------|------|----------------|
| id | UUID | NO | ä¸»ã‚­ãƒ¼ | âœ… å¿…é ˆ |
| name | VARCHAR(255) | NO | éƒ¨ç½²å | âœ… å¿…é ˆ |
| parent_id | UUID | YES | è¦ªéƒ¨ç½²ID | âœ… å¿…é ˆ |
| **code** | VARCHAR(50) | YES | éƒ¨ç½²ã‚³ãƒ¼ãƒ‰ | âœ… **æ¨å¥¨ï¼ˆæ–°è¦ï¼‰** |
| **level** | INT | YES | éšå±¤ãƒ¬ãƒ™ãƒ« | âœ… **æ¨å¥¨ï¼ˆæ–°è¦ï¼‰** |
| **is_active** | BOOLEAN | YES | æœ‰åŠ¹ãƒ•ãƒ©ã‚° | âœ… **æ¨å¥¨ï¼ˆæ–°è¦ï¼‰** |
| sort_order | INT | NO | è¡¨ç¤ºé †åº | â—‹ å‚è€ƒ |
| description | TEXT | YES | èª¬æ˜ | - |
| created_at | TIMESTAMPTZ | NO | ä½œæˆæ—¥æ™‚ | - |
| updated_at | TIMESTAMPTZ | NO | æ›´æ–°æ—¥æ™‚ | - |

### 2.3 roles ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆPhase 3.5ã§è¿½åŠ æ¸ˆã¿ï¼‰

| ã‚«ãƒ©ãƒ å | å‹ | NULL | èª¬æ˜ |
|----------|-----|------|------|
| id | VARCHAR(50) | NO | å½¹è·IDï¼ˆä¾‹: role_ceoï¼‰ |
| name | VARCHAR(100) | NO | å½¹è·å |
| level | INT | NO | æ¨©é™ãƒ¬ãƒ™ãƒ«ï¼ˆ1-6ï¼‰ |
| description | TEXT | YES | èª¬æ˜ |
| display_order | INT | NO | è¡¨ç¤ºé †åº |
| is_active | BOOLEAN | NO | æœ‰åŠ¹ãƒ•ãƒ©ã‚° |
| created_at | TIMESTAMPTZ | NO | ä½œæˆæ—¥æ™‚ |
| updated_at | TIMESTAMPTZ | NO | æ›´æ–°æ—¥æ™‚ |

**æ¨©é™ãƒ¬ãƒ™ãƒ«å®šç¾©**:

| level | åç§° | ã‚¢ã‚¯ã‚»ã‚¹ç¯„å›² |
|-------|------|-------------|
| 1 | æ¥­å‹™å§”è¨— | è‡ªéƒ¨ç½²ã®ã¿ï¼ˆåˆ¶é™ã‚ã‚Šï¼‰ |
| 2 | ä¸€èˆ¬ç¤¾å“¡ | è‡ªéƒ¨ç½²ã®ã¿ |
| 3 | ãƒªãƒ¼ãƒ€ãƒ¼/èª²é•· | è‡ªéƒ¨ç½² + ç›´ä¸‹éƒ¨ç½² |
| 4 | å¹¹éƒ¨/éƒ¨é•· | è‡ªéƒ¨ç½² + é…ä¸‹å…¨éƒ¨ç½² |
| 5 | ç®¡ç†éƒ¨ | å…¨çµ„ç¹”ï¼ˆæœ€é«˜æ©Ÿå¯†é™¤ãï¼‰ |
| 6 | ä»£è¡¨/CFO | å…¨çµ„ç¹”ãƒ»å…¨æƒ…å ± |

### 2.4 change_history ãƒ†ãƒ¼ãƒ–ãƒ«

| ã‚«ãƒ©ãƒ å | å‹ | NULL | èª¬æ˜ |
|----------|-----|------|------|
| id | UUID | NO | ä¸»ã‚­ãƒ¼ |
| action_type | VARCHAR(50) | NO | æ“ä½œç¨®åˆ¥ï¼ˆè¿½åŠ /ç·¨é›†/å‰Šé™¤/ç•°å‹•ï¼‰ |
| target_type | VARCHAR(50) | NO | å¯¾è±¡ç¨®åˆ¥ï¼ˆemployee/departmentï¼‰ |
| target_id | UUID | NO | å¯¾è±¡ID |
| before_data | JSONB | YES | å¤‰æ›´å‰ãƒ‡ãƒ¼ã‚¿ |
| after_data | JSONB | YES | å¤‰æ›´å¾Œãƒ‡ãƒ¼ã‚¿ |
| description | TEXT | YES | èª¬æ˜ |
| created_at | TIMESTAMPTZ | NO | ä½œæˆæ—¥æ™‚ |

---

## 3. æ©Ÿèƒ½ä¸€è¦§

### 3.1 ç¾åœ¨ã®æ©Ÿèƒ½ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

| # | æ©Ÿèƒ½ | çŠ¶æ…‹ | èª¬æ˜ |
|---|------|------|------|
| 1 | ç¤¾å“¡CRUD | âœ… å®Œäº† | è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤ |
| 2 | éƒ¨ç½²CRUD | âœ… å®Œäº† | è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤ |
| 3 | ç•°å‹•æ©Ÿèƒ½ | âœ… å®Œäº† | éƒ¨ç½²é–“ã®ç¤¾å“¡ç§»å‹• |
| 4 | è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ | âœ… å®Œäº† | ã‚«ãƒ¼ãƒ‰/ãƒ„ãƒªãƒ¼/ãƒªã‚¹ãƒˆ |
| 5 | æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ | âœ… å®Œäº† | åå‰ãƒ»éƒ¨ç½²ãƒ»é›‡ç”¨å½¢æ…‹ãƒ»ã‚¹ã‚­ãƒ« |
| 6 | å¤‰æ›´å±¥æ­´ | âœ… å®Œäº† | æ“ä½œãƒ­ã‚°ã®è¨˜éŒ²ãƒ»è¡¨ç¤º |
| 7 | ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ | âœ… å®Œäº† | JSON/CSV/PDF |
| 8 | ã‚¤ãƒ³ãƒãƒ¼ãƒˆ | âœ… å®Œäº† | JSON/CSV/Excel |
| 9 | é–²è¦§å°‚ç”¨URL | âœ… å®Œäº† | ?mode=view ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ |
| 10 | Chatworké€šçŸ¥ | âœ… å®Œäº† | çµ„ç¹”å¤‰æ›´æ™‚ã®é€šçŸ¥ |
| 11 | ã‚½ã‚¦ãƒ«ãã‚“åŒæœŸ | âš ï¸ è¦ä¿®æ­£ | APIã®URLé–“é•ã„ |
| 12 | å½¹è·ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ | âœ… å®Œäº† | rolesãƒ†ãƒ¼ãƒ–ãƒ«é€£æº |
| 13 | ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ— | âœ… å®Œäº† | éƒ¨ç½²å†…ã®é †ç•ªå¤‰æ›´ |

### 3.2 è¿½åŠ ãŒå¿…è¦ãªæ©Ÿèƒ½

| # | æ©Ÿèƒ½ | å„ªå…ˆåº¦ | èª¬æ˜ | å·¥æ•°ç›®å®‰ |
|---|------|--------|------|----------|
| 1 | **ChatWork IDå…¥åŠ›æ¬„** | ğŸ”´ é«˜ | ç¤¾å“¡ç·¨é›†ç”»é¢ã«è¿½åŠ  | 30åˆ† |
| 2 | **åŒæœŸAPIã®URLä¿®æ­£** | ğŸ”´ é«˜ | æ­£ã—ã„URLã«ä¿®æ­£ | 5åˆ† |
| 3 | **æœªè¨­å®šé …ç›®ãƒã‚¤ãƒ©ã‚¤ãƒˆ** | ğŸŸ¡ ä¸­ | role_id/chatwork_idæœªè¨­å®šã‚’è­¦å‘Š | 30åˆ† |
| 4 | **ä¸€æ‹¬ç·¨é›†æ©Ÿèƒ½** | ğŸŸ¡ ä¸­ | è¤‡æ•°ç¤¾å“¡ã®åŒæ™‚ç·¨é›† | 2æ™‚é–“ |
| 5 | **åŒæœŸå·®åˆ†ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼** | ğŸŸ¡ ä¸­ | åŒæœŸå‰ã«å¤‰æ›´å†…å®¹ã‚’è¡¨ç¤º | 1æ™‚é–“ |
| 6 | **éƒ¨ç½²ã‚³ãƒ¼ãƒ‰å…¥åŠ›æ¬„** | ğŸŸ¢ ä½ | éƒ¨ç½²ç·¨é›†ç”»é¢ã«è¿½åŠ  | 20åˆ† |

---

## 4. ã‚½ã‚¦ãƒ«ãã‚“é€£æº

### 4.1 åŒæœŸAPI

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**:
```
POST https://soulkun-api-tzu7ftekzq-an.a.run.app/api/v1/organizations/{org_id}/sync-org-chart
```

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆå½¢å¼**:
```json
{
  "organization_id": "org_soulsyncs",
  "source": "org_chart_system",
  "sync_type": "full",
  "departments": [
    {
      "id": "uuid-xxx",
      "name": "å–¶æ¥­éƒ¨",
      "code": "SALES",
      "parentId": null,
      "level": 1,
      "displayOrder": 1,
      "isActive": true
    }
  ],
  "roles": [
    {
      "id": "role_ceo",
      "name": "ä»£è¡¨å–ç· å½¹",
      "level": 6,
      "description": "æœ€é«˜çµŒå–¶è²¬ä»»è€…"
    }
  ],
  "employees": [
    {
      "id": "uuid-yyy",
      "name": "å±±ç”°å¤ªéƒ",
      "email": "yamada@example.com",
      "departmentId": "uuid-xxx",
      "roleId": "role_ceo",
      "isPrimary": true,
      "startDate": "2020-04-01"
    }
  ],
  "options": {
    "dry_run": false
  }
}
```

### 4.2 åŒæœŸã«å¿…è¦ãªé …ç›®

| é …ç›® | å¿…é ˆ | Supabaseã‚«ãƒ©ãƒ  | å‚™è€ƒ |
|------|------|---------------|------|
| ç¤¾å“¡ID | âœ… | employees.id | UUID |
| ç¤¾å“¡å | âœ… | employees.name | |
| éƒ¨ç½²ID | âœ… | employees.department_id | UUID |
| å½¹è·ID | âœ… | employees.role_id | ä¾‹: role_ceo |
| ChatWork ID | âœ… | employees.chatwork_account_id | **æ–°è¦è¿½åŠ å¿…è¦** |
| ãƒ¡ãƒ¼ãƒ« | â—‹ | employees.email_company | ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨ |
| å…¥ç¤¾æ—¥ | â—‹ | employees.hire_date | |
| é€€ç¤¾æ—¥ | â—‹ | employees.resignation_date | |

### 4.3 ChatWorké€£æºã®ä»•çµ„ã¿

```
ã€ã‚¿ã‚¹ã‚¯ãƒªãƒã‚¤ãƒ³ãƒ‰æ™‚ã®æµã‚Œã€‘

1. ã‚½ã‚¦ãƒ«ãã‚“ãŒCloud SQLã‹ã‚‰ã‚¿ã‚¹ã‚¯æƒ…å ±ã‚’å–å¾—
2. æ‹…å½“è€…ã®user_idã‚’ç‰¹å®š
3. user_departmentsã‹ã‚‰organization_idå†…ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—
4. â˜… chatwork_account_idã‚’ä½¿ã£ã¦ChatWorkã«é€šçŸ¥

ã€chatwork_account_idãŒãªã„ã¨ã€‘
- èª°ã«é€šçŸ¥ã™ã‚Œã°ã„ã„ã‹åˆ†ã‹ã‚‰ãªã„
- ãƒªãƒã‚¤ãƒ³ãƒ‰ãŒé€ã‚Œãªã„
```

---

## 5. æ”¹å–„è¨ˆç”»

### 5.1 Phase 1: ç·Šæ€¥ä¿®æ­£ï¼ˆ2026-01-25 å®Œäº† âœ…ï¼‰

```
âœ… 1. Supabaseã«chatwork_account_idã‚«ãƒ©ãƒ è¿½åŠ ï¼ˆSQLå®Ÿè¡Œæ¸ˆã¿ï¼‰
âœ… 2. åŒæœŸAPIã®URLä¿®æ­£ï¼ˆapp.jsï¼‰
âœ… 3. ç¤¾å“¡ç·¨é›†ç”»é¢ã«ChatWork IDå…¥åŠ›æ¬„è¿½åŠ 
âœ… 4. ç¤¾å“¡è¿½åŠ ç”»é¢ã«ChatWork IDå…¥åŠ›æ¬„è¿½åŠ 
âœ… 5. ã‚¹ã‚­ãƒ¼ãƒãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½è¿½åŠ ï¼ˆã‚«ãƒ©ãƒ æœªå­˜åœ¨æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰
```

**PR**: https://github.com/soulsyncs/org-chart/pull/3
**ãƒ‡ãƒ—ãƒ­ã‚¤**: X Server (sv10875.xserver.jp) ã«åæ˜ æ¸ˆã¿

### 5.2 Phase 2: å“è³ªå‘ä¸Šï¼ˆä»Šé€±ä¸­ï¼‰

```
â–¡ 5. role_idæœªè¨­å®šã®ç¤¾å“¡ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º
â–¡ 6. chatwork_account_idæœªè¨­å®šã®ç¤¾å“¡ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º
â–¡ 7. ã€Œè¨­å®šçŠ¶æ³ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®è¿½åŠ 
â–¡ 8. CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆã«ChatWork IDåˆ—ã‚’è¿½åŠ 
```

### 5.3 Phase 3: æ©Ÿèƒ½æ‹¡å¼µï¼ˆæ¥é€±ä»¥é™ï¼‰

```
â–¡ 9. ä¸€æ‹¬ç·¨é›†æ©Ÿèƒ½
â–¡ 10. åŒæœŸå·®åˆ†ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
â–¡ 11. éƒ¨ç½²ã‚³ãƒ¼ãƒ‰å…¥åŠ›æ¬„
â–¡ 12. çµ±è¨ˆã‚°ãƒ©ãƒ•å¼·åŒ–
```

---

## 6. ãƒ†ã‚¹ãƒˆè¨ˆç”»

### 6.1 æ‰‹å‹•ãƒ†ã‚¹ãƒˆé …ç›®

| # | ãƒ†ã‚¹ãƒˆé …ç›® | æœŸå¾…çµæœ |
|---|-----------|----------|
| 1 | ç¤¾å“¡è¿½åŠ ï¼ˆå…¨é …ç›®å…¥åŠ›ï¼‰ | Supabaseã«ä¿å­˜ã•ã‚Œã‚‹ |
| 2 | ç¤¾å“¡è¿½åŠ ï¼ˆChatWork IDã®ã¿ï¼‰ | ã‚¨ãƒ©ãƒ¼ãªãä¿å­˜ã•ã‚Œã‚‹ |
| 3 | ç¤¾å“¡ç·¨é›†ï¼ˆChatWork IDè¿½åŠ ï¼‰ | æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ãŒç¶­æŒã•ã‚Œã‚‹ |
| 4 | ã‚½ã‚¦ãƒ«ãã‚“åŒæœŸï¼ˆãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³ï¼‰ | åŒæœŸä»¶æ•°ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ |
| 5 | ã‚½ã‚¦ãƒ«ãã‚“åŒæœŸï¼ˆæœ¬ç•ªï¼‰ | Cloud SQLã«åæ˜ ã•ã‚Œã‚‹ |
| 6 | æœªè¨­å®šãƒã‚¤ãƒ©ã‚¤ãƒˆ | èµ¤æ ã§è¡¨ç¤ºã•ã‚Œã‚‹ |

### 6.2 E2Eãƒ†ã‚¹ãƒˆï¼ˆå°†æ¥ï¼‰

```javascript
// Playwrightç­‰ã§E2Eãƒ†ã‚¹ãƒˆã‚’è¿½åŠ äºˆå®š
test('ç¤¾å“¡è¿½åŠ ãƒ•ãƒ­ãƒ¼', async ({ page }) => {
  await page.goto('/');
  await page.click('text=ç¤¾å“¡ã‚’è¿½åŠ ');
  await page.fill('#empName', 'ãƒ†ã‚¹ãƒˆå¤ªéƒ');
  // ...
});
```

---

## 7. é‹ç”¨

### 7.1 ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

```bash
# 1. ãƒ­ãƒ¼ã‚«ãƒ«ã§ç¢ºèª
open index.html

# 2. Cloudflare Pagesã«ãƒ—ãƒƒã‚·ãƒ¥
git add .
git commit -m "fix: ChatWork IDå¯¾å¿œ"
git push origin main

# 3. è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆCloudflare Pagesï¼‰
# â†’ æ•°åˆ†ã§æœ¬ç•ªåæ˜ 
```

### 7.2 ç›£è¦–

| é …ç›® | æ–¹æ³• |
|------|------|
| Supabaseæ¥ç¶šã‚¨ãƒ©ãƒ¼ | ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ç¢ºèª |
| åŒæœŸã‚¨ãƒ©ãƒ¼ | showNotification()ã§è¡¨ç¤º |
| å¤‰æ›´å±¥æ­´ | change_historyãƒ†ãƒ¼ãƒ–ãƒ« |

---

## 8. é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [06_phase_3-5_org_hierarchy.md](06_phase_3-5_org_hierarchy.md) - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIè¨­è¨ˆ
- [PHASE_3-5_DETAILED_DESIGN.md](PHASE_3-5_DETAILED_DESIGN.md) - è©³ç´°è¨­è¨ˆ
- [03_database_design.md](03_database_design.md) - Cloud SQLã‚¹ã‚­ãƒ¼ãƒ

---

## å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å†…å®¹ |
|------|-----------|------|
| 2026-01-25 | 1.0.0 | åˆç‰ˆä½œæˆ |
